<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AppScript Form Entry ID Extractor</title>
    <link rel="stylesheet" href="../shared/breadcrumb-nav.css">
    <link rel="stylesheet" href="../shared/hub-button.css">
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .container { background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0; }
        input[type="url"] { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 4px; }
        button { background: #4285f4; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #3367d6; }
        .results { background: white; padding: 15px; border-radius: 4px; margin: 10px 0; }
        .code { background: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; margin: 5px 0; }
    </style>
</head>
<body>
    <!-- Enhanced Breadcrumb Navigation -->
    <nav class="breadcrumb-container" aria-label="Breadcrumb">
        <div class="breadcrumb-wrapper">
            <div class="breadcrumb-nav">
                <ol>
                    <li class="breadcrumb-item">
                        <a href="../index.html" class="breadcrumb-link" aria-label="Go to Home">
                            <span class="breadcrumb-icon icon-home"></span>
                            <span>Home</span>
                        </a>
                    </li>
                    <li class="breadcrumb-separator" aria-hidden="true">›</li>
                    <li class="breadcrumb-item">
                        <a href="index.html" class="breadcrumb-link" aria-label="Go to AppScript Bank">
                            <span class="breadcrumb-icon icon-folder"></span>
                            <span>AppScript Bank</span>
                        </a>
                    </li>
                    <li class="breadcrumb-separator" aria-hidden="true">›</li>
                    <li class="breadcrumb-item">
                        <span class="breadcrumb-current" aria-current="page">
                            <span class="breadcrumb-icon icon-file"></span>
                            <span>Form Entry ID Extractor</span>
                        </span>
                    </li>
                </ol>
            </div>
            <div class="breadcrumb-actions">
                <a href="../index.html" class="breadcrumb-hub-btn" aria-label="Return to Hub">
                    <span class="icon-home"></span>
                    <span>Hub</span>
                </a>
            </div>
        </div>
    </nav>

    <div style="margin-top: 1rem;">
        <h1>AppScript Form Entry ID Extractor</h1>

    <div class="container">
        <h3>Step 1: Enter your Google Form URL</h3>
        <p>Paste the URL of your AppScript Idea Bank Google Form (the one that ends with /viewform)</p>
        <input type="url" id="formUrl" placeholder="https://docs.google.com/forms/d/e/YOUR_FORM_ID/viewform">
        <button onclick="extractEntryIds()">Extract Entry IDs</button>
    </div>

    <div id="results" class="container" style="display: none;">
        <h3>Step 2: Copy these values to your AppScript form</h3>
        <div id="entryIds"></div>

        <h3>Step 3: Update your form action URL</h3>
        <p>Replace <code>YOUR_GOOGLE_FORM_ACTION_URL</code> in your appscript-bank/index.html with:</p>
        <div id="actionUrl" class="code"></div>
    </div>

    <script>
        function extractEntryIds() {
            const formUrl = document.getElementById('formUrl').value;

            if (!formUrl || !formUrl.includes('docs.google.com/forms')) {
                alert('Please enter a valid Google Forms URL');
                return;
            }

            // Create action URL
            const actionUrl = formUrl.replace('/viewform', '/formResponse');
            document.getElementById('actionUrl').textContent = actionUrl;

            // Show instructions for manual extraction
            const entryIdsDiv = document.getElementById('entryIds');
            entryIdsDiv.innerHTML = `
                <p><strong>To get the entry IDs:</strong></p>
                <ol>
                    <li>Open your form in a new tab: <a href="${formUrl}" target="_blank">Click here</a></li>
                    <li>Right-click on the page and select "View Page Source"</li>
                    <li>Press Ctrl+F (or Cmd+F) and search for "entry."</li>
                    <li>Look for patterns like <code>entry.123456789</code></li>
                    <li>Copy the entry IDs and replace the placeholders below:</li>
                </ol>

                <div class="code">
                    <strong>Replace these in your appscript-bank/index.html:</strong><br>
                    IDEA_TITLE_ENTRY_ID → entry.XXXXXXXXX (first entry ID you find)<br>
                    DESCRIPTION_ENTRY_ID → entry.XXXXXXXXX (second entry ID)<br>
                    BUSINESS_UNIT_ENTRY_ID → entry.XXXXXXXXX (third entry ID)
                </div>

                <p><strong>Example:</strong> If you find <code>entry.1234567890</code>, replace <code>IDEA_TITLE_ENTRY_ID</code> with <code>1234567890</code></p>
                
                <div class="code">
                    <strong>Complete example replacement:</strong><br>
                    name="entry.IDEA_TITLE_ENTRY_ID" → name="entry.1234567890"<br>
                    name="entry.DESCRIPTION_ENTRY_ID" → name="entry.0987654321"<br>
                    name="entry.BUSINESS_UNIT_ENTRY_ID" → name="entry.1122334455"
                </div>
            `;

            document.getElementById('results').style.display = 'block';
        }
    </script>

    </div>

    <div id="footer-placeholder"></div>
    <script src="../shared/scripts/footer.js" defer></script>
    <script src="../shared/scripts/breadcrumb-nav.js"></script>
</body>
</html>